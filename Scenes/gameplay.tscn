[gd_scene load_steps=9 format=3 uid="uid://64lrjbh76pmx"]

[ext_resource type="PackedScene" uid="uid://cfe4g377ukyhm" path="res://Scenes/hud.tscn" id="1_o5006"]
[ext_resource type="Script" path="res://Scripts/endless_mode_gameplay_manager.gd" id="1_tr1y1"]
[ext_resource type="PackedScene" uid="uid://ioybgujxnqw3" path="res://Scenes/health_kit.tscn" id="4_7ho7q"]
[ext_resource type="PackedScene" uid="uid://b76y018lotvep" path="res://Scenes/player.tscn" id="7_wps4a"]
[ext_resource type="Script" path="res://Scripts/camera3D.gd" id="8_e7b0r"]
[ext_resource type="PackedScene" uid="uid://qejm0te461yf" path="res://Scenes/Levels/level_tile.tscn" id="8_r6l27"]
[ext_resource type="PackedScene" uid="uid://05cyvmw8hi4c" path="res://Scenes/zombie.tscn" id="10_inqas"]
[ext_resource type="PackedScene" uid="uid://w5m47vn4ccfq" path="res://Scenes/ammo_box.tscn" id="14_qbaql"]

[node name="play_field" type="Node3D" node_paths=PackedStringArray("player")]
script = ExtResource("1_tr1y1")
player = NodePath("Player")
zombie_scene = ExtResource("10_inqas")
ammo_box_scene = ExtResource("14_qbaql")
health_kit_scene = ExtResource("4_7ho7q")
map_tile_scenes = Array[PackedScene]([ExtResource("8_r6l27")])

[node name="HUD" parent="." instance=ExtResource("1_o5006")]

[node name="Player" parent="." instance=ExtResource("7_wps4a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0514164, 0.931931, 0.455667)
speed = 5
ammo = 0
health_percentage = 1000

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("player")]
transform = Transform3D(1, -6.50845e-16, 1.74394e-16, 7.85077e-17, 0.369601, 0.929191, -6.69215e-16, -0.929191, 0.369601, 2.08165e-12, 7, 1)
script = ExtResource("8_e7b0r")
player = NodePath("../Player")

[node name="ZombieSpawnTimer" type="Timer" parent="."]
wait_time = 5.0

[node name="LootBoxSpawner" type="Timer" parent="."]
wait_time = 10.0

[node name="Ammo Box" parent="." instance=ExtResource("14_qbaql")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.266, 1, -4.042)

[connection signal="player_ammo_updated" from="Player" to="HUD/Ammo" method="_on_player_player_ammo_updated"]
[connection signal="player_died" from="Player" to="HUD/Death screen" method="_on_player_player_died"]
[connection signal="player_health_updated" from="Player" to="HUD/Health" method="_on_player_player_health_updated"]
[connection signal="timeout" from="ZombieSpawnTimer" to="." method="_on_zombie_spawn_timer_timeout"]
[connection signal="timeout" from="LootBoxSpawner" to="." method="_on_loot_box_spawner_timeout"]

[editable path="HUD"]
